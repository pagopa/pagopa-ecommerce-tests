# azure-pipelines.yml
trigger: none
pr: none

parameters:
  - name: 'ENVIRONMENT'
    displayName: 'Which environment to run tests for?'
    type: string
    values:
      - "DEV"
      - "UAT"
    default: "DEV"

variables:
  - name: 'HOSTNAME'
    ${{ if eq(variables.HOSTNAME, 'UAT') }}:
      value: 'https://api.uat.platform.pagopa.it'
    ${{ else }}:
      value: 'https://api.dev.platform.pagopa.it'

stages : 
  - stage: 'Show_vars'
    displayName: 'Show vars'
    dependsOn: [ ]
    pool:
      vmImage: 'ubuntu-latest'
    jobs:
      - job: api_tests
        steps:
          - script: |
              echo ${{ parameters.ENVIRONMENT }}
            displayName: 'Display env'
          - script: |
              echo ${{ variables.HOSTNAME }}
            displayName: 'Display hostname'